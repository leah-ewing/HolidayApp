{% extends 'base.html' %}

<title>
    {% block title %}Search Results{% endblock %}
</title>
  
{% block body %}
  
    <body>

        <link
            rel="stylesheet"
            href="../static/css/static.css">

        <div class="search-results-page-container">

            {% if results_count == 0 %}
                <div class="row" id="outer-row-no-results">
                    <div class="row" id="inner-row-no-results">
                        <div id="no-results-text">
                            <text>
                                No Results Found For: <b>"{{search_term}}"</b>
                            </text>
                        </div>
                    </div>
                </div>
            {% else %}
                <div class="row" id="outer-row-results">
                    <div class="row" id="inner-row-results">
                        <div id="search-results-text">
                            <text>
                                {{results_count}} Results For: <b>"<span id="search-term">{{search_term}}</span>"</b>
                            </text>
                        </div>
                    </div>
                </div>
                <div class="row search" id="search-result-outer-row">
                    <div id="search-results-list">
                        {% for search_result in search_results %}

                            <div class="row search-result" id="search-result-{{search_result.result_num}}">
                                <text class="search-result-name" id="search-result-name-{{search_result.result_num}}" href="/{{search_result.holiday_name}}">
                                    {{search_result.holiday_name}}
                                </text>
                                <div class="row">
                                    <div class="col" id="search-result-image">
                                        <a href="/{{search_result.holiday_name}}">
                                            <div class="image-container">
                                                <img
                                                    src = "{{search_result.holiday_img}}"
                                                    width = 200,
                                                    id = "search-result-img">
                                                </img>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col" id="search-result-blurb">
                                        <text>
                                            <div id="search-result-date">
                                                {{search_result.holiday_month}} {{search_result.holiday_date}}{{search_result.date_suffix}}
                                            </div>
                                            {{search_result.holiday_blurb}} <b>...</b>
                                        </text>
                                    </div>
                                </div>
                            </div>

                        {% endfor %}
                    </div>
                    <div class="row" id="search-results-paginate">
                        <text>
                            {% if page > 1 %}
                                <a href="/search-results/{{search_term}}/{{page - 1}}/">
                                    ◀︎
                                </a>
                            {% endif %}

                            Page {{page}} of {{page_count}} 

                            {% if page < page_count %}
                                <a href="/search-results/{{search_term}}/{{page + 1}}/">
                                    ▶︎
                                </a>
                            {% endif %}
                        </text>
                    </div>
                </div>
                <!-- <script src="../static/js/search-results.js"></script> -->
            {% endif %}

            <div class="row" id="search-results-buttons">
                <div class="col">
                    <button class="btn" id="back-home-no-results" onclick="location.href='/'">
                        Back Home
                    </button> 
                    
                    <button id="calendar-view-no-results" class="btn" onclick="location.href='/calendar-view'">
                        View Calendar
                    </button>
                </div>
            </div>
        </div>

        <div class="row" id="explore-more-row">
            <span class="explore-more">
              Explore More Holidays!
            </span>
          </div>
        
          <div class="container-fluid slideshow">
            <div class="row home-slideshow" id="slideshow">
                <div class="col" id="left-slideshow-arrow">
                    <a href id="left-arrow">◀︎</a>
                </div>
                <div class="col" id="holidays-container">
                    <div class="row" id="holidays">
                    </div>
                </div>
                <div class="col" id="right-slideshow-arrow">
                    <a href id="right-arrow">▶</a>
                </div>
            </div>
          </div>
          <script src="{{ url_for('static', filename='js/slideshow.js') }}"></script>
    </body>
    
{% endblock %}